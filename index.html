<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>åœ£è¯å¿«ä¹ ğŸ„</title>

<style>
    html, body {
        margin: 0;
        width: 100%;
        height: 100%;
        background: black;
        overflow: hidden;
        font-family: Consolas, "Courier New", monospace;
    }

    /* å±å¹•çœŸæ­£å±…ä¸­ */
    body {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .tree {
        white-space: pre;
        line-height: 1.15;
        font-size: 22px;          /* ğŸŒ² æ”¾å¤§å…³é”® */
        text-align: left;
        user-select: none;
        z-index: 2;
    }

    .yellow { color: gold; }
    .green { color: #00ff00; }
    .light-green { color: #66ff66; }
    .cyan { color: cyan; }
    .light-cyan { color: #66ffff; }

    .ball-red { color: #ff4d4d; }
    .ball-blue { color: #4da6ff; }
    .ball-yellow { color: #ffd633; }
    .ball-pink { color: #ff66cc; }

    .trunk {
        background: saddlebrown;
        display: inline-block;
        width: 3ch;
        height: 1.2em;
    }

    /* â„ é›ªèŠ± */
    .snowflake {
        position: fixed;
        top: -20px;
        color: white;
        opacity: 0.85;
        pointer-events: none;
        animation: fall linear infinite;
        z-index: 1;
    }

    @keyframes fall {
        to {
            transform: translateY(110vh);
        }
    }
</style>
</head>

<body>

<!-- ğŸ¶ èƒŒæ™¯éŸ³ä¹ -->
<audio id="bgm" loop>
    <source src="https://cdn.pixabay.com/audio/2022/12/02/audio_6f5d1b9c1c.mp3" type="audio/mpeg">
</audio>

<div id="tree" class="tree"></div>

<script>
    /* ğŸŒ² æ ‘é«˜åº¦ï¼ˆè¶Šå¤§è¶Šéœ‡æ’¼ï¼‰ */
    const height = 22;

    const colors = ["green", "light-green", "cyan", "light-cyan"];
    const balls  = ["ball-red", "ball-blue", "ball-yellow", "ball-pink"];

    const tree = document.getElementById("tree");
    let output = "";

    // â­ æ˜Ÿæ˜Ÿ
    output += " ".repeat(height - 1)
        + "<span class='yellow'>â˜…</span>\n";

    // ğŸŒ² æ ‘èº«
    for (let i = 0; i < height; i++) {
        const spaces = " ".repeat(height - i - 1);
        let row = "";

        for (let j = 0; j < 2 * i + 1; j++) {
            if (Math.random() < 0.18) {
                const ball = balls[Math.floor(Math.random() * balls.length)];
                row += `<span class="${ball}">â—</span>`;
            } else {
                const color = colors[i % colors.length];
                row += `<span class="${color}">*</span>`;
            }
        }

        output += spaces + row + "\n";
    }

    // ğŸªµ æ ‘å¹²
    for (let i = 0; i < 3; i++) {
        output += " ".repeat(height - 2)
            + "<span class='trunk'></span>\n";
    }

    tree.innerHTML = output;

    /* â„ é›ªèŠ± */
    function createSnowflake() {
        const snow = document.createElement("div");
        snow.className = "snowflake";
        snow.innerText = "â„";
        snow.style.left = Math.random() * window.innerWidth + "px";
        snow.style.fontSize = (14 + Math.random() * 14) + "px";
        snow.style.animationDuration = (6 + Math.random() * 6) + "s";

        document.body.appendChild(snow);
        setTimeout(() => snow.remove(), 12000);
    }

    setInterval(createSnowflake, 180);

    /* ğŸ¶ éŸ³ä¹ï¼ˆç‚¹å‡»è§£é”ï¼‰ */
    const bgm = document.getElementById("bgm");
    bgm.volume = 0.4;

    bgm.play().catch(() => {
        document.body.addEventListener("click", () => {
            bgm.play();
        }, { once: true });
    });
</script>

</body>
</html>
